<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Allâ€‘inâ€‘One Science Tools + Poem Experience</title>

  <!-- Fuentes e iconos -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
  <script src="https://unpkg.com/feather-icons"></script>

  <!-- Estilos CSS -->
  <style>
    /* [MISMO STYLE QUE YA TIENES, OMITIDO PARA AHORRAR ESPACIO] */
  </style>
</head>

<body>
  <!-- HEADER -->
  <div class="container">
    <h1>ğŸ§ª Allâ€‘inâ€‘One Science Tools</h1>
    <p>DiseÃ±ado para estudio, productividad y ciencia.</p>
    <button id="btnBg" class="btn">Cambiar fondo</button>
  </div>

  <!-- POEM EXPERIENCE -->
  <nav class="lang-switcher">
    <button data-lang="es" class="active">ES</button>
    <button data-lang="en">EN</button>
    <button data-lang="it">IT</button>
  </nav>

  <section class="poem-card">
    <h2 id="poem-title" class="poem-title"></h2>
    <p id="poem-text" class="poem-text"></p>
    <button id="next-btn" class="next-btn">Next</button>
  </section>

  <!-- RANKING Y MINI-APPS -->
  <section class="ranking-section">
    <h2 class="section-title">ğŸ“ ğŸ† Top Estudiantes â€“ Ranking Semanal</h2>
    <ul style="list-style:none;text-align:left;line-height:1.5;font-size:.95rem;padding-left:1rem">
      <li>ğŸ¥‡ <strong>Valeria RÃ­os</strong> â€” 980 pts</li>
      <li>ğŸ¥ˆ <strong>AndrÃ©s LeÃ³n</strong> â€” 910 pts</li>
      <li>ğŸ¥‰ <strong>Fiorella MartÃ­nez</strong> â€” 880 pts</li>
    </ul>

    <div class="phase-sim">
      <h3 class="section-title">âš›ï¸ Simulador de Cambios de Estado</h3>
      <label for="estado">Estado actual:</label>
      <select id="estado">
        <option value="sÃ³lido">SÃ³lido</option>
        <option value="lÃ­quido">LÃ­quido</option>
        <option value="gas">Gas</option>
      </select>
      <label for="temp">Temperatura (Â°C):</label>
      <input type="number" id="temp" value="25" />
      <button id="btnSim" class="btn" style="margin-top:1rem">Simular</button>
      <p id="resultado"></p>
    </div>

    <div class="mini-game">
      <h3 class="section-title">ğŸ® Juego: Click RÃ¡pido</h3>
      <p>Haz clic en el cÃ­rculo tantas veces como puedas (5 s).</p>
      <button id="btnGame" class="btn">Iniciar juego</button>
      <p id="gameScore"></p>
      <canvas id="gameCanvas" width="200" height="200"></canvas>
    </div>
  </section>

  <!-- BLOQUE LITERARIO -->
  <section class="literary-text">
    <h2 class="section-title">Fragmentos & CronologÃ­as Prohibidas</h2>
    <pre id="quotes-section">
// AquÃ­ se insertarÃ¡n automÃ¡ticamente todas las citas enumeradas 1, 2, 3, ...
// (por razones de rendimiento y espacio, el contenido se incluirÃ¡ desde un archivo externo o mÃ³dulo JS en la prÃ³xima iteraciÃ³n)
    </pre>
  </section>

  <!-- SCRIPT FINAL -->
  <script>
    const fondos = [
      getComputedStyle(document.documentElement).getPropertyValue('--bg1'),
      getComputedStyle(document.documentElement).getPropertyValue('--bg2'),
      getComputedStyle(document.documentElement).getPropertyValue('--bg3')
    ];
    let fondoIdx = parseInt(localStorage.getItem('bgIndex') || 0);
    document.body.style.backgroundImage = fondos[fondoIdx];
    document.getElementById('btnBg').onclick = () => {
      fondoIdx = (fondoIdx + 1) % fondos.length;
      document.body.style.backgroundImage = fondos[fondoIdx];
      localStorage.setItem('bgIndex', fondoIdx);
    };

    const poems = [
      {
        bg: 'https://images.unsplash.com/photo-1506459225024-1428097a7e18?auto=format&fit=crop&w=1600&q=80',
        title: { es: 'Diez muchachas', en: 'Ten girls', it: 'Dieci ragazze' },
        text: {
          es: 'En Viena hay diez muchachas, un hombro donde solloza la muerteâ€¦',
          en: 'In Vienna there are ten girls, a shoulder where death sobsâ€¦',
          it: 'A Vienna ci sono dieci ragazze, una spalla dove singhiozza la morteâ€¦'
        }
      }
    ];

    let currentPoem = 0;
    function showPoem(idx) {
      const lang = document.querySelector('.lang-switcher button.active').dataset.lang;
      const poem = poems[idx];
      document.getElementById('poem-title').textContent = poem.title[lang];
      document.getElementById('poem-text').textContent = poem.text[lang];
      document.body.style.backgroundImage = `url(${poem.bg})`;
    }
    document.getElementById('next-btn').addEventListener('click', () => {
      currentPoem = (currentPoem + 1) % poems.length;
      showPoem(currentPoem);
    });
    document.querySelectorAll('.lang-switcher button').forEach(btn => {
      btn.addEventListener('click', () => {
        document.querySelectorAll('.lang-switcher button').forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        showPoem(currentPoem);
      });
    });
    showPoem(currentPoem);
  </script>
</body>
</html>