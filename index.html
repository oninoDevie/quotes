<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quotes + Audio</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Crimson+Text:ital,wght@0,400;0,600;1,400&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/feather-icons/4.29.0/feather.min.css">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="app-container">
        <header class="app-header">
            <h1 class="app-title">Literary Voices</h1>
            <div class="quote-counter">
                <span id="currentQuote">1</span>
                <span class="counter-separator">of</span>
                <span id="totalQuotes">12</span>
            </div>
        </header>

        <main class="main-content">
            <div class="quote-container">
                <div class="quote-header">
                    <h2 id="quoteTitle" class="quote-title">Loading...</h2>
                    <div class="reading-progress">
                        <div id="progressBar" class="progress-bar"></div>
                    </div>
                </div>
                
                <div id="quoteDisplay" class="quote-display">
                    <div class="loading-state">
                        <div class="loading-spinner"></div>
                        <p>Loading quotes...</p>
                    </div>
                </div>
            </div>

            <div class="controls-panel">
                <div class="audio-controls">
                    <button id="prevBtn" class="control-btn secondary" aria-label="Previous quote">
                        <i data-feather="skip-back"></i>
                    </button>
                    
                    <button id="playPauseBtn" class="control-btn primary" aria-label="Play/Pause">
                        <i data-feather="play"></i>
                    </button>
                    
                    <button id="stopBtn" class="control-btn secondary" aria-label="Stop">
                        <i data-feather="square"></i>
                    </button>
                    
                    <button id="nextBtn" class="control-btn secondary" aria-label="Next quote">
                        <i data-feather="skip-forward"></i>
                    </button>
                </div>

                <div class="settings-panel">
                    <div class="setting-group">
                        <label for="audioFile" class="setting-label">Audio File</label>
                        <input type="file" id="audioFile" accept="audio/*" class="file-input">
                    </div>
                    <div class="setting-group">
                        <label for="highlightColor" class="setting-label">Highlight</label>
                        <div class="color-picker-wrapper">
                            <input type="color" id="highlightColor" value="#4f46e5" class="color-picker">
                            <div class="color-preview"></div>
                        </div>
                    </div>
                    
                    <div class="setting-group">
                        <label for="speechRate" class="setting-label">Speed</label>
                        <div class="slider-wrapper">
                            <input type="range" id="speechRate" min="0.5" max="2" step="0.1" value="1" class="speed-slider">
                            <span id="speedValue" class="speed-value">1.0x</span>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <audio id="audioPlayer" style="display: none;"></audio>
        <div id="errorMessage" class="error-message" role="alert" aria-live="polite"></div>
    </div>

    <script src="https://unpkg.com/feather-icons"></script>
    <script src="script.js"></script>

    <main>
    <h1>¬°Gracias por ser parte del Torneo Hunter's Creek Spring 2025!</h1>
    <p>Explora tus logros, repasa momentos clave y sigue mejorando con nuestro sistema de recompensas y enfoque.</p>

    <!-- ‚úÖ XP -->
    <div class="xp-bar">
      <div class="xp-fill" id="xpFill"></div>
    </div>
    <p>Puntos acumulados: <span id="xpPoints">0</span></p>

    <!-- ‚úÖ Galer√≠a -->
    <section class="gallery">
      <img src="https://placekitten.com/400/300" alt="Torneo 1" />
      <img src="https://placekitten.com/401/300" alt="Torneo 2" />
      <img src="https://placekitten.com/402/300" alt="Torneo 3" />
      <img src="https://placekitten.com/403/300" alt="Torneo 4" />
    </section>

    <!-- ‚úÖ Botones -->
    <button class="button" id="reloadBtn">üîÑ Recargar Galer√≠a (+10 XP)</button>
    <button class="button" id="shareBtn">üì§ Compartir (+20 XP)</button>

    <!-- ‚úÖ Temporizador Pomodoro -->
    <div class="pomodoro">
      <h2>‚è≥ Per√≠odo de concentraci√≥n (1 de 2)</h2>
      <div class="timer" id="timer">20:00</div>
      <div class="controls">
        <button id="startBtn">‚ñ∂Ô∏è Iniciar</button>
        <button id="resetBtn">üîÅ Reiniciar</button>
      </div>
      <div id="status">Pausado</div>
    </div>
  </main>

  <footer>
    <small>&copy; 2025 NotaFija ¬∑ Todos los derechos reservados</small>
  </footer>

  <!-- ‚úÖ JavaScript embebido -->
  <script>
    // XP logic
    let xp = parseInt(localStorage.getItem('xpPoints')) || 0;
    const xpFill = document.getElementById('xpFill');
    const xpPoints = document.getElementById('xpPoints');

    function updateXP(points) {
      xp = Math.min(xp + points, 100);
      xpFill.style.width = xp + '%';
      xpPoints.textContent = xp;
      localStorage.setItem('xpPoints', xp);
    }

    updateXP(0); // initial update

    // Recargar galer√≠a
    document.getElementById('reloadBtn').addEventListener('click', () => {
      const imgs = document.querySelectorAll('.gallery img');
      imgs.forEach((img, i) => {
        img.src = `https://placekitten.com/${400 + i}/${300}`;
      });
      updateXP(10);
      alert('Galer√≠a recargada. +10 XP üê±');
    });

    // Compartir
    document.getElementById('shareBtn').addEventListener('click', () => {
      updateXP(20);
      alert('¬°Gracias por compartir! +20 XP üéâ');
    });

    // Pomodoro
    let duration = 20 * 60;
    let remaining = duration;
    let timer;
    let running = false;

    const timerDisplay = document.getElementById('timer');
    const statusDisplay = document.getElementById('status');

    function updateTimerDisplay() {
      const min = Math.floor(remaining / 60);
      const sec = remaining % 60;
      timerDisplay.textContent = `${min.toString().padStart(2,'0')}:${sec.toString().padStart(2,'0')}`;
    }

    document.getElementById('startBtn').addEventListener('click', () => {
      if (!running) {
        running = true;
        statusDisplay.textContent = 'En curso...';
        timer = setInterval(() => {
          if (remaining > 0) {
            remaining--;
            updateTimerDisplay();
          } else {
            clearInterval(timer);
            running = false;
            updateXP(50);
            statusDisplay.textContent = '¬°Completado! +50 XP';
          }
        }, 1000);
      } else {
        clearInterval(timer);
        running = false;
        statusDisplay.textContent = 'Pausado';
      }
    });

    document.getElementById('resetBtn').addEventListener('click', () => {
      clearInterval(timer);
      running = false;
      remaining = duration;
      updateTimerDisplay();
      statusDisplay.textContent = 'Pausado';
    });

    updateTimerDisplay();
  </script>
  <style>
    :root {
      --c-dark:   #061a36;
      --c-green:  #c6f400;
      --c-green-d:#a7cf00;
      --c-gray:   #f5f5f5;
      --c-white:  #ffffff;
      --radius:   14px;
      --shadow-s: 0 2px 6px rgba(0,0,0,.08);
      --shadow-m: 0 8px 24px rgba(0,0,0,.14);
    }

    *,
    *::before,
    *::after { box-sizing: border-box; margin: 0; padding: 0; }

    body {
      font-family: "Segoe UI", sans-serif;
      background: var(--c-gray);
      color: var(--c-dark);
      line-height: 1.6;
      padding: 2rem;
    }

    .card {
      background: var(--c-white);
      border-radius: var(--radius);
      box-shadow: var(--shadow-s);
      padding: 2rem;
      max-width: 600px;
      margin: 2rem auto;
    }

    h2 {
      margin-bottom: 1rem;
      font-size: 1.4rem;
    }

    .button {
      background: var(--c-green);
      color: var(--c-dark);
      font-weight: bold;
      border: none;
      padding: 0.6rem 1rem;
      border-radius: 8px;
      cursor: pointer;
      margin-top: 0.5rem;
    }

    .button:hover {
      background: var(--c-green-d);
    }

    .progress-meta {
      display: flex;
      justify-content: space-between;
      margin-top: 1rem;
      font-size: 0.95rem;
    }

    .medals {
      margin-top: 1rem;
      display: flex;
      gap: 0.5rem;
    }

    .medal {
      font-size: 1.5rem;
      opacity: 0.4;
    }

    .medal.active {
      opacity: 1;
    }

    .daily-progress {
      display: flex;
      gap: 0.3rem;
      margin-top: 1rem;
    }

    .block {
      width: 1.5rem;
      height: 1.5rem;
      border-radius: 4px;
      background: #ccc;
    }

    .block.done {
      background: var(--c-green);
    }

    .assignment {
      margin-top: 0.5rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 0.95rem;
    }

    /* Palabra del d√≠a */
    #lapalabradeldia p {
      font-size: 1.3rem;
      margin: 1rem 0;
      text-align: center;
    }

    #lapalabradeldia strong {
      color: var(--c-dark);
    }
  </style>
</head>
<body>

  <!-- Card de estudio -->
  <div class="card">
    <h2>üéØ Up Next</h2>
    <p>M√≥dulo: <strong>Content Marketing 101</strong></p>
    <button class="button" onclick="continuar()">‚ñ∂Ô∏è Continuar donde me qued√©</button>

    <div class="progress-meta">
      <span>Progreso: <span id="progreso">50%</span></span>
      <span>‚è±Ô∏è ~<span id="tiempo">35</span> min</span>
    </div>

    <div class="medals">
      <div class="medal active">ü•â</div>
      <div class="medal active">ü•à</div>
      <div class="medal">ü•á</div>
    </div>

    <h2>üìÖ Daily Goals</h2>
    <div class="daily-progress" id="progressBar">
      <div class="block done"></div>
      <div class="block done"></div>
      <div class="block"></div>
      <div class="block"></div>
      <div class="block"></div>
    </div>

    <h2>üìå 1 assignment due</h2>
    <div class="assignment">
      <span id="asignacion">Marketing quiz - due in 2 days</span>
      <button class="button" style="font-size: 0.8rem;">Ver</button>
    </div>
  </div>

  <!-- Secci√≥n La Palabra del D√≠a -->
  <section id="lapalabradeldia" class="card">
    <h2>üìò La Palabra del D√≠a</h2>
    <p><strong id="palabra">___</strong> ‚ÜîÔ∏è <strong id="antonimo">___</strong></p>
    <button class="button" onclick="nuevaPalabra()">üîÅ Otra palabra</button>
  </section>

  <style>
    body {{
      font-family: 'Georgia', serif;
      background: #f5f5f5;
      color: #333;
      padding: 20px;
    }}
    h1 {{
      text-align: center;
      color: #2c3e50;
    }}
    table {{
      width: 100%;
      border-collapse: collapse;
      margin-top: 20px;
    }}
    th, td {{
      border: 1px solid #ccc;
      padding: 10px;
      text-align: center;
    }}
    th {{
      background-color: #2c3e50;
      color: white;
    }}
    tr:nth-child(even) {{
      background-color: #ecf0f1;
    }}
  </style>
</head>
<body>
  <h1>Greek and Roman Gods</h1>
  <table>
    <thead>
      <tr>
        <th>Greek Name</th>
        <th>Roman Name</th>
        <th>Domain</th>
      </tr>
    </thead>
    <tbody>
      <tr><td>Gea</td><td>Tellus</td><td>Goddess of the Earth</td></tr>
      <tr><td>Cronos</td><td>Saturn</td><td>God of Time</td></tr>
      <tr><td>Zeus</td><td>Jupiter</td><td>God of the Universe</td></tr>
      <tr><td>Hera</td><td>Juno</td><td>Goddess of Marriage</td></tr>
      <tr><td>Athena</td><td>Minerva</td><td>Goddess of Wisdom</td></tr>
      <tr><td>Aphrodite</td><td>Venus</td><td>Goddess of Beauty</td></tr>
      <tr><td>Ares</td><td>Mars</td><td>God of War</td></tr>
      <tr><td>Hephaestus</td><td>Vulcan</td><td>God of Fire</td></tr>
      <tr><td>Poseidon</td><td>Neptune</td><td>God of the Sea</td></tr>
      <tr><td>Hades</td><td>Pluto</td><td>God of the Dead</td></tr>
      <tr><td>Hermes</td><td>Mercury</td><td>Messenger God</td></tr>
      <tr><td>Dionysus</td><td>Bacchus</td><td>God of Wine</td></tr>
      <tr><td>Apollo</td><td>Phoebus</td><td>God of Light, the Sun</td></tr>
      <tr><td>Asclepius</td><td>Aesculapius</td><td>God of Medicine</td></tr>
      <tr><td>Artemis</td><td>Diana</td><td>Goddess of the Hunt</td></tr>
      <tr><td>Demeter</td><td>Ceres</td><td>Goddess of Agriculture</td></tr>
      <tr><td>Hestia</td><td>Vesta</td><td>Goddess of the Hearth</td></tr>
    </tbody>
  </table>

  
<style>
:root{
  --bg:#0d1117;--surface:#161b22;--accent:#eaff00;--text:#e2e8f0;
  --teal:#04c2fd;--teal-dark:#0290c4;
}
*{box-sizing:border-box;margin:0;padding:0}
body{font-family:'Segoe UI',system-ui;background:var(--bg);color:var(--text);line-height:1.6}
h1,h2,h3,h4{font-weight:700}

.container{max-width:960px;margin:auto;padding:0 1rem}

/* ===== HERO ===== */
.hero{min-height:60vh;display:flex;flex-direction:column;justify-content:center;gap:1.4rem;
      background:linear-gradient(130deg,#00244c 0%,#003c3c 45%,#295600 100%);text-align:left;padding:4rem 1rem;color:#fff}
.hero h1{font-size:clamp(2.4rem,5vw,4rem);line-height:1.1}
.hero .lead{font-size:1.2rem;opacity:.9}
.btn-primary{background:var(--accent);color:#000;font-weight:700;border:none;padding:1rem 2.4rem;border-radius:12px;cursor:pointer}
.btn-primary:hover{filter:brightness(1.1)}

/* hero small cards */
.hero-cards{display:flex;gap:1rem;margin-top:2rem;flex-wrap:wrap}
.hero-cards .card{flex:1 1 180px;background:#ffffff1a;padding:1rem;border-radius:12px;color:#fff}

/* ===== BUTTON 2D/3D ===== */
.btn-ion2d,.btn-ion3d{--radius:10px;padding:.8rem 2rem;font-weight:600;position:relative;display:inline-flex;align-items:center;gap:.6rem;border:none;cursor:pointer;color:#fff}
.btn-ion2d{background:linear-gradient(145deg,var(--teal),var(--teal-dark));border-radius:var(--radius)}
.btn-ion3d{background:var(--teal);border-radius:var(--radius);box-shadow:0 4px 0 var(--teal-dark),0 7px 15px rgba(0,0,0,.25)}
.btn-ion3d:active{transform:translateY(4px);box-shadow:0 0 0 var(--teal-dark),0 3px 8px rgba(0,0,0,.2)}
.btn-ion2d::before,.btn-ion3d::before{content:'';width:22px;height:22px;background:url("data:image/svg+xml,%3Csvg fill='%23FFF' viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M4 9c0-2.2 1.8-4 4-4h8c2.2 0 4 1.8 4 4v6c0 2.2-1.8 4-4 4H8c-2.2 0-4-1.8-4-4V9Zm6 0h4v6h-4V9Z'/%3E%3C/svg%3E") center/contain no-repeat;margin-right:.4rem}

/* ===== AUDIO PLAYER ===== */
.audio-wrap{background:var(--surface);padding:1rem 1.4rem;border-radius:12px;margin:2rem auto;display:flex;align-items:center;gap:1rem;max-width:540px}
.audio-wrap button{background:none;border:none;color:var(--accent);font-size:1.4rem;cursor:pointer}
.progress{flex:1;height:4px;background:#555;position:relative;border-radius:3px}
.progress>span{display:block;height:100%;background:var(--accent);width:0}

/* ===== TIMER SECTION ===== */
.timer-board{max-width:420px;margin:2rem auto;position:relative}
#timersGrid{display:flex;flex-direction:column;gap:1rem}
.timer-card{background:var(--teal);border-radius:18px;padding:1rem;display:flex;flex-direction:column;gap:.8rem;color:#03242b;position:relative}
.timer-card header{font-weight:600;display:flex;justify-content:space-between}
.timer-card .dial{display:flex;justify-content:center;font-size:2rem;font-weight:700}
.timer-ctrls{display:flex;gap:.5rem}
.timer-ctrls button{flex:1;border:none;border-radius:8px;padding:.4rem;cursor:pointer;background:var(--teal-dark);color:#fff}
.timer-ctrls .play{flex:2}
.close{background:none;border:none;font-size:1.2rem;cursor:pointer;color:#031d24}
#newTimerBtn{position:fixed;bottom:2rem;right:2rem;width:64px;height:64px;border-radius:50%;border:none;font-size:2rem;cursor:pointer;background:var(--teal);color:#01181f;box-shadow:0 4px 10px rgba(0,0,0,.5)}

/* ===== DAILY INSPIRATION ===== */
.daily-inspo{gap:1rem;flex-wrap:wrap;margin:2rem auto;max-width:860px}
.inspo-card{flex:1 1 260px;color:#fff;padding:1.2rem;border-radius:12px;background:linear-gradient(180deg,#007cf0 0%,#00377b 100%)}

/* ===== QUICK NOTES ===== */
.notes-section{max-width:860px;margin:2rem auto}
.toolbar{background:#2d3748;border:1px solid #4a5568;border-bottom:none;padding:.3rem;display:flex;gap:.3rem}
.toolbar button{background:#4a5568;border:none;color:#fff;padding:.3rem .5rem;cursor:pointer;border-radius:4px;font-size:.9rem}
#noteEditor{min-height:160px;border:1px solid #4a5568;padding:.8rem;color:#e2e8f0}
.button-link{background:var(--accent);color:#000;border:none;padding:.4rem 1rem;border-radius:8px;cursor:pointer;margin-top:.7rem}

/* ===== Snake overlay (UA Nokia) ===== */
#snakeCanvas{position:fixed;inset:0;width:100%;height:100%;background:#000;z-index:9999;display:none}
</style>
</head>
<body>

<!-- HERO -->
<section class="hero">
  <div class="container">
    <h1>Crece en la cancha, <br>crece en la vida</h1>
    <p class="lead">Programas de tenis para ni√±os de 3 a 13 a√±os ¬∑ Plazas limitadas</p>
    <button class="btn-primary">Reserva tu clase de prueba gratuita</button>
    <!-- small cards -->
    <div class="hero-cards">
      <div class="card"><h3>Misi√≥n</h3><p>Fomentar valores y talento.</p></div>
      <div class="card"><h3>Programas</h3><p>Competiciones mensuales.</p></div>
      <div class="card"><h3>Clases</h3><p>Entrenamiento 1:1.</p></div>
    </div>
  </div>
</section>

<!-- 2D / 3D BUTTONS -->
<div class="container" style="margin:2rem auto;text-align:center">
  <button class="btn-ion2d">Modo 2D</button>
  <button class="btn-ion3d">Modo 3D</button>
</div>

<!-- AUDIO PLAYER -->
<div class="audio-wrap">
  <button id="revBtn">‚è™‚è™</button>
  <button id="playBtn">‚ñ∂Ô∏è</button>
  <span id="timeLbl">00:00</span>
  <div class="progress"><span id="bar"></span></div>
</div>

<!-- TIMERS -->
<div class="timer-board">
  <div id="timersGrid"></div>
</div>
<button id="newTimerBtn">+</button>

<!-- DAILY INSPIRATION -->
<section class="daily-inspo container">
  <div class="inspo-card"><p>‚ÄúHay que sentir el pensamiento y pensar el sentimiento.‚Äù</p><h4 style="margin-top:1rem;">‚îÄ Miguel de Unamuno</h4></div>
  <div class="inspo-card" style="background:linear-gradient(180deg,#0d88ff 0%,#002e6d 100%)">
    <p><strong>s√≠lÔ¨Åde</strong><br><span style="font-size:.9rem;opacity:.9">nombre femenino</span></p><h4 style="margin-top:1rem;">La palabra del d√≠a</h4>
  </div>
</section>

<!-- QUICK NOTES -->
<section class="notes-section">
  <h2>üìù Quick Notes</h2>
  <div class="toolbar">
    <button data-cmd="bold"><strong>B</strong></button>
    <button data-cmd="italic"><em>I</em></button>
    <button data-cmd="underline"><u>U</u></button>
    <button data-cmd="insertUnorderedList">‚Ä¢</button>
    <button data-cmd="insertOrderedList">1.</button>
    <button data-cmd="removeFormat">Tx</button>
  </div>
  <div id="noteEditor" contenteditable="true"></div>
  <button id="saveNote" class="button-link">üíæ Guardar Nota</button>
</section>

<!-- Snake canvas -->
<canvas id="snakeCanvas" width="300" height="300"></canvas>

<script>
/* ===== REVERSE AUDIO ===== */
const audioCtx = new (window.AudioContext||window.webkitAudioContext)();
const playBtn = document.getElementById('playBtn');
const revBtn  = document.getElementById('revBtn');
const bar     = document.getElementById('bar');
const timeLbl = document.getElementById('timeLbl');
let buffer, source, startedAt=0, pausedAt=0, reverse=false;

async function loadAudio(url){
  const res = await fetch(url);
  const arr = await res.arrayBuffer();
  buffer = await audioCtx.decodeAudioData(arr);
}
loadAudio('https://www2.cs.uic.edu/~i101/SoundFiles/ShortAudio.mp3'); // sample

function play(){
  source = audioCtx.createBufferSource();
  source.buffer = buffer;
  if(reverse){
    for(let i=0;i<buffer.numberOfChannels;i++){
      Array.prototype.reverse.call(buffer.getChannelData(i));
    }
  }
  source.connect(audioCtx.destination);
  const offset = pausedAt || 0;
  startedAt = audioCtx.currentTime - offset;
  source.start(0, offset);
  source.onended = stop;
}

function stop(){
  if(source){source.stop();source.disconnect();source=null;}
  pausedAt = 0;
}

function togglePlay(){
  if(source){ // pause
    pausedAt = audioCtx.currentTime - startedAt;
    stop();
    playBtn.textContent='‚ñ∂Ô∏è';
  }else{      // play
    play();
    playBtn.textContent='‚è∏Ô∏è';
  }
}
playBtn.onclick = togglePlay;
revBtn.onclick  = () => {reverse=!reverse;stop();play();bar.style.width='0'};

setInterval(()=>{
  if(source){
    const cur = Math.min(buffer.duration, audioCtx.currentTime-startedAt);
    const pct = (cur/buffer.duration)*100;
    bar.style.width=pct+'%';
    timeLbl.textContent = '00:'+String(Math.floor(cur)).padStart(2,'0');
  }
},200);

/* ===== TIMERS ===== */
let timerSeq=0;const timers=new Map();
const fmt=s=>`${String(Math.floor(Math.abs(s)/60)).padStart(2,'0')}:${String(Math.abs(s)%60).padStart(2,'0')}`;
function createTimer(label='5m',sec=300){
 const id=`t${++timerSeq}`;timers.set(id,{s:sec,t:sec,i:null});
 const c=document.createElement('div');c.className='timer-card';c.innerHTML=`<header>${label}<button class="close" data-id=${id}>‚úï</button></header><div class="dial" id="${id}-d">${fmt(sec)}</div><div class="timer-ctrls"><button class="plus" data-id=${id}>+1</button><button class="play" data-id=${id}>‚ñ∂Ô∏è</button><button class="reset" data-id=${id}>üîÑ</button></div>`;
 document.getElementById('timersGrid').prepend(c);
 c.onclick=e=>{
  const id=e.target.dataset.id;if(!id)return;
  const t=timers.get(id);
  if(e.target.classList.contains('play')){ if(t.i){clearInterval(t.i);t.i=null;e.target.textContent='‚ñ∂Ô∏è'}else{t.i=setInterval(()=>tick(id),1000);e.target.textContent='‚è∏Ô∏è'} }
  else if(e.target.classList.contains('plus')){ t.s+=60;update(id); }
  else if(e.target.classList.contains('reset')){ t.s=t.t;update(id); }
  else if(e.target.classList.contains('close')){ if(t.i)clearInterval(t.i);timers.delete(id);c.remove(); }
 };
}
function tick(id){const t=timers.get(id);if(!t)return;t.s--;update(id);}
function update(id){document.getElementById(id+'-d').textContent=(timers.get(id).s<0?'-':'')+fmt(timers.get(id).s);}
createTimer('5m',300);createTimer('15m',900);createTimer('30m',1800);
document.getElementById('newTimerBtn').onclick=()=>{const m=+prompt('Minutos?',5);if(m>0)createTimer(`${m}m`,m*60)};

/* ===== QUICK NOTES ===== */
const editor=document.getElementById('noteEditor');const LS_KEY='quickNote';
editor.innerHTML=localStorage.getItem(LS_KEY)||'';
document.querySelectorAll('.toolbar button').forEach(b=>b.onclick=()=>document.execCommand(b.dataset.cmd,false,null));
document.getElementById('saveNote').onclick=()=>{localStorage.setItem(LS_KEY,editor.innerHTML);alert('Nota guardada ‚úîÔ∏è');};

/* ===== Snake (UA Nokia or ?nokia) ===== */
if(navigator.userAgent.toLowerCase().includes('nokia')||location.search.includes('nokia')){
 const cvs=document.getElementById('snakeCanvas');cvs.style.display='block';
 const ctx=cvs.getContext('2d');const sz=15;let snake=[[10,10]];let dir=[1,0];let food=[5,5];
 document.addEventListener('keydown',e=>{const k=e.key;dir=k==='ArrowUp'&&dir[1]!=1?[0,-1]:k==='ArrowDown'&&dir[1]!=-1?[0,1]:k==='ArrowLeft'&&dir[0]!=1?[-1,0]:k==='ArrowRight'&&dir[0]!=-1?[1,0]:dir});
 const rnd=()=>Math.floor(Math.random()*20);
 setInterval(()=>{const h=[snake[0][0]+dir[0],snake[0][1]+dir[1]];
   if(h[0]<0||h[0]>19||h[1]<0||h[1]>19||snake.some(s=>s[0]==h[0]&&s[1]==h[1])){snake=[[10,10]];dir=[1,0];}
   snake.unshift(h);if(h[0]==food[0]&&h[1]==food[1])food=[rnd(),rnd()];else snake.pop();
   ctx.fillStyle='#000';ctx.fillRect(0,0,300,300);ctx.fillStyle='#0f0';snake.forEach(s=>ctx.fillRect(s[0]*sz,s[1]*sz,sz-1,sz-1));ctx.fillStyle='#f00';ctx.fillRect(food[0]*sz,food[1]*sz,sz-1,sz-1);},120);
}
</script>
  <script>
    // Simple script to log date of view
    console.log("Page loaded on: {datetime.now().strftime('%Y-%m-%d %H:%M:%S')}");
  </script>
  <!-- JS -->
  <script>
    function continuar() {
      alert("üîÑ Cargando m√≥dulo actual...");
    }

    const palabras = [
      { palabra: "valiente", antonimo: "cobarde" },
      { palabra: "r√°pido", antonimo: "lento" },
      { palabra: "alegr√≠a", antonimo: "tristeza" },
      { palabra: "√©xito", antonimo: "fracaso" },
      { palabra: "orden", antonimo: "caos" },
      { palabra: "amor", antonimo: "odio" },
      { palabra: "libertad", antonimo: "opresi√≥n" },
      { palabra: "humildad", antonimo: "arrogancia" },
      { palabra: "verdad", antonimo: "mentira" },
      { palabra: "vida", antonimo: "muerte" }
    ];

    function nuevaPalabra() {
      const i = Math.floor(Math.random() * palabras.length);
      const seleccion = palabras[i];
      document.getElementById("palabra").textContent = seleccion.palabra;
      document.getElementById("antonimo").textContent = seleccion.antonimo;
    }

    // Mostrar una palabra al cargar
    window.addEventListener("DOMContentLoaded", nuevaPalabra);
  </script>

    <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 2rem;
      background: #f5f5f5;
      color: #111;
    }
    h2 {
      margin-top: 2rem;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }
    button {
      background: #111;
      color: #fff;
      border: none;
      padding: 0.5rem 1rem;
      border-radius: 4px;
      cursor: pointer;
    }
    #sticky-notes {
      display: flex;
      flex-wrap: wrap;
      gap: 1rem;
      margin-top: 1rem;
    }
    .note {
      background: #fff;
      border: 1px solid #ddd;
      padding: 1rem;
      width: 150px;
      height: 150px;
      overflow: auto;
      border-radius: 8px;
      cursor: move;
    }
    #pencil-canvas {
      border: 1px solid #ccc;
      margin-top: 1rem;
      width: 100%;
      height: 200px;
    }
    #pomodoro {
      background: #111;
      color: #fff;
      display: inline-block;
      padding: 1rem 2rem;
      margin-top: 1rem;
      border-radius: 8px;
    }
    .blogs {
      display: flex;
      flex-wrap: wrap;
      gap: 1rem;
      margin-top: 1rem;
    }
    .blog-card {
      background: #eee;
      padding: 1rem;
      border-radius: 8px;
      width: 180px;
    }
  </style>
</head>
<body>

  <h2>üóíÔ∏è Sticky Notes</h2>
  <button onclick="addNote()">‚ûï Nueva Nota</button>
  <div id="sticky-notes"></div>

  <h2>‚úèÔ∏è Pencil Tool</h2>
  <button onclick="clearCanvas()">üßΩ Borrar</button>
  <canvas id="pencil-canvas"></canvas>

  <h2>‚è≥ Pomodoro</h2>
  <div id="pomodoro">
    <span id="timer">25:00</span><br/>
    <button onclick="startPomodoro()">‚ñ∂Ô∏è</button>
    <button onclick="resetPomodoro()">üîÑ</button>
  </div>

  <h2>üìë Blogs</h2>
  <div class="blogs">
    <div class="blog-card">
      <b>El Futuro de la Ciencia</b><br/>Ciencia
    </div>
    <div class="blog-card">
      <b>Humanidades en la Era Digital</b><br/>Humanidades
    </div>
    <div class="blog-card">
      <b>Arte Minimalista Contempor√°neo</b><br/>Arte
    </div>
    <div class="blog-card">
      <b>Explorando Nuevos Sonidos</b><br/>M√∫sica
    </div>
  </div>

  <script>
    // Sticky Notes
    function addNote() {
      const note = document.createElement('div');
      note.className = 'note';
      note.contentEditable = true;
      note.innerText = 'Edita...';
      document.getElementById('sticky-notes').appendChild(note);
      dragElement(note);
    }

    function dragElement(el) {
      let pos1 = 0, pos2 = 0, pos3 = 0, pos4 = 0;
      el.onmousedown = dragMouseDown;

      function dragMouseDown(e) {
        e = e || window.event;
        e.preventDefault();
        pos3 = e.clientX;
        pos4 = e.clientY;
        document.onmouseup = closeDragElement;
        document.onmousemove = elementDrag;
      }

      function elementDrag(e) {
        e = e || window.event;
        e.preventDefault();
        pos1 = pos3 - e.clientX;
        pos2 = pos4 - e.clientY;
        pos3 = e.clientX;
        pos4 = e.clientY;
        el.style.top = (el.offsetTop - pos2) + "px";
        el.style.left = (el.offsetLeft - pos1) + "px";
        el.style.position = "absolute";
      }

      function closeDragElement() {
        document.onmouseup = null;
        document.onmousemove = null;
      }
    }

    // Pencil Tool
    const canvas = document.getElementById('pencil-canvas');
    const ctx = canvas.getContext('2d');
    let painting = false;

    canvas.addEventListener('mousedown', () => painting = true);
    canvas.addEventListener('mouseup', () => painting = false);
    canvas.addEventListener('mousemove', draw);

    function draw(e) {
      if (!painting) return;
      ctx.lineWidth = 2;
      ctx.lineCap = 'round';
      ctx.strokeStyle = '#000';
      ctx.lineTo(e.offsetX, e.offsetY);
      ctx.stroke();
      ctx.beginPath();
      ctx.moveTo(e.offsetX, e.offsetY);
    }

    function clearCanvas() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
    }

    // Pomodoro
    let pomodoroTime = 25 * 60;
    let timer;

    function startPomodoro() {
      timer = setInterval(() => {
        pomodoroTime--;
        updatePomodoro();
        if (pomodoroTime <= 0) {
          clearInterval(timer);
          alert("¬°Sesi√≥n completa!");
        }
      }, 1000);
    }

    function resetPomodoro() {
      clearInterval(timer);
      pomodoroTime = 25 * 60;
      updatePomodoro();
    }

    function updatePomodoro() {
      const minutes = Math.floor(pomodoroTime / 60);
      const seconds = pomodoroTime % 60;
      document.getElementById('timer').innerText = `${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;
    }

    updatePomodoro();
  </script>


  <style>
    body { 
      font-family: Georgia, serif; background: #121212; color: #f3f3f3; padding: 20px; 
      transition: background 0.5s, color 0.5s; 
    }
    nav { background: #1e1e1e; padding: 10px; border-radius: 6px; }
    nav a { color: #06b6d4; margin-right: 15px; text-decoration: none; }
    section { margin: 20px 0; background: #1e1e1e; border-radius: 8px; padding: 20px; }
    button { background: #06b6d4; border: none; padding: 8px 12px; border-radius: 4px; cursor: pointer; margin-right: 5px;}
    input, textarea { width: 100%; background: #333; color: #fff; border: none; padding: 8px; border-radius: 4px; margin: 5px 0; }
    .serif { font-family: Georgia, serif; }
    .sans { font-family: Arial, sans-serif; }
    .mono { font-family: 'Courier New', monospace; }
  </style>
</head>
<body>
  <nav>
    <a href="#home">Inicio</a>
    <a href="#dashboard">Dashboard</a>
    <a href="#blogs">Blogs</a>
    <a href="#register">Registro</a>
    <a href="#terms">T√©rminos</a>
  </nav>

  <section id="home">
    <h1>üéì Bienvenido</h1>
    <p><strong>Estudia mejor, entrena m√°s fuerte y comparte tus logros.</strong> Este espacio combina aprendizaje, deporte y productividad. Cambia h√°bitos hoy, mejora tus skills ma√±ana. üöÄ</p>
    <button onclick="toggleDarkMode()">Modo Oscuro/Claro</button>
    <button onclick="changeBg()">Cambiar Fondo</button>
    <button onclick="changeFont()">Cambiar Fuente</button>
  </section>

  <section id="dashboard">
    <h2>‚è≥ Pomodoro</h2>
    <p id="timer">25:00</p>
    <button onclick="startPomodoro()">Iniciar</button>
    <button onclick="resetPomodoro()">Reset</button>
    <p id="pomodoroStatus">En espera...</p>

    <h2>‚öñÔ∏è IMC</h2>
    <input id="weight" placeholder="Peso (kg)" />
    <input id="height" placeholder="Altura (m)" />
    <button onclick="calcIMC()">Calcular IMC</button>
    <p>Tu IMC: <span id="imcOut">-</span></p>

    <h2>üìù Generar Blog</h2>
    <textarea id="blogInput" placeholder="Escribe tu idea..."></textarea>
    <button onclick="generateBlog()">Publicar</button>
    <div id="blogsList"></div>
  </section>

  <section id="blogs">
    <h2>üì∞ Blogs Recientes</h2>
    <p>Cada art√≠culo es un paso m√°s para compartir tu voz. ¬°Inspira y deja huella!</p>
  </section>

  <section id="register">
    <h2>üóÇÔ∏è Registro</h2>
    <input placeholder="Nombre completo" />
    <input placeholder="Correo electr√≥nico" />
    <input placeholder="Contrase√±a" type="password" />
    <button onclick="alert('¬°Registro simulado!')">Registrar</button>
    <p>üéì *Unirte es el primer paso para transformar tu h√°bito de estudio y entrenamiento.*</p>
  </section>

  <section id="terms">
    <h2>üìÑ T√©rminos y Condiciones</h2>
    <p>Esta plataforma es una demo educativa y motivacional. Al usarla aceptas comprometerte contigo mismo: aprender, entrenar y mejorar cada d√≠a.</p>
  </section>

  <script>
    let timer; let time = 1500;
    function startPomodoro() {
      clearInterval(timer);
      timer = setInterval(() => {
        time--;
        let min = String(Math.floor(time / 60)).padStart(2,'0');
        let sec = String(time % 60).padStart(2,'0');
        document.getElementById('timer').innerText = `${min}:${sec}`;
        document.getElementById('pomodoroStatus').innerText = "¬°Enfocado!";
        if (time <= 0) {
          clearInterval(timer);
          document.getElementById('pomodoroStatus').innerText = "¬°Break!";
        }
      }, 1000);
    }
    function resetPomodoro() {
      clearInterval(timer); time = 1500;
      document.getElementById('timer').innerText = "25:00";
      document.getElementById('pomodoroStatus').innerText = "En espera...";
    }
    function calcIMC() {
      let w = parseFloat(document.getElementById('weight').value);
      let h = parseFloat(document.getElementById('height').value);
      if(w>0 && h>0){ let imc = (w / (h * h)).toFixed(2);
      document.getElementById('imcOut').innerText = imc; }
    }
    function generateBlog() {
      let text = document.getElementById('blogInput').value;
      let p = document.createElement('p');
      p.innerText = `üìù ${text} - ¬°Comparte y crece!`;
      document.getElementById('blogsList').appendChild(p);
    }
    function toggleDarkMode() {
      if(document.body.style.background === 'white'){
        document.body.style.background = '#121212';
        document.body.style.color = '#f3f3f3';
      } else {
        document.body.style.background = 'white';
        document.body.style.color = '#121212';
      }
    }
    function changeBg() {
      document.body.style.background = `hsl(${Math.floor(Math.random()*360)},50%,10%)`;
    }
    let fonts = ['serif', 'sans', 'mono'];
    let idx = 0;
    function changeFont() {
      document.body.className = fonts[idx % fonts.length];
      idx++;
    }
  </script>
</body>
</html>
