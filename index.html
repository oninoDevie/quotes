<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>QuotesÂ AudioÂ AppÂ +Â GamificaciÃ³n</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- Fuentes y utilidades -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet" />
  <script src="https://unpkg.com/feather-icons"></script>

  <!-- Tus estilos externos (token system + mediaâ€‘queries) -->
  <link rel="stylesheet" href="styles.css" />

  <style>
    /* ----------  mÃ­nimos ajustes rÃ¡pidos  ---------- */
    body{font-family:'Inter',sans-serif;margin:0;background:#0d0d0d;color:#f5f5f5}
    img{max-width:100%;display:block}
    h1,h2{margin:.5rem 0}
    button{cursor:pointer}
    .app-container{max-width:960px;margin:auto;padding:1.5rem;display:flex;flex-direction:column;gap:2.5rem}
    .section-title{font-size:1.2rem;font-weight:600;margin:1rem 0}
    /* sobrescribe tamaÃ±o canvas en mÃ³vil */
    @media(max-width:640px){#gameCanvas{width:160px;height:160px}}
  </style>

<body class="bg-misty">
<pre>
They'll attend a party and pass a small note under the table, and they'll write something beautiful. It'll be forbidden to include their name and signature (or any kind of link to the author).
They always wondered why this action was performed. "They'll never know," but it has already been told in stories, melodies, and solitary places.

XX
One cannot articulate language without diagnosis
nor remedies that store diaries dates and almanacs of years forgotten

I've learned from the dreams of a cross 
The cross had no name and it was a shameful act

1828
Only the eternal dreamer can feel that which they call knowing the demons of Heaven who know how to fly by plane
Those of dreams, those of traditions, myths or legends
Those of phantasmagorical novels of flights from beyond the grave to the Old Continent
And how to forget the geniuses of the pyramids who understood Statistics, the rhythm of the air and the sound of silence
And above all things they found love not in another being (not at all philosophical) but in the rose petals of that tree he planted, the book he didn't write, and the child he didn't have.
He also emphasized a friend he never got to meet.
For he always argued that he had already written everything in his notebook and that he also duplicated it like one of those doors everyone knows how to open or (if they don't know how) they open it using Arithmetic like in an American movie heist that even I don't remember.

1919
I was writing verses in my room while Mom knitted in the living room, enjoying her senile life which was gradually coming to an end. With the pencil in my left hand and the alcohol in my right, I was finishing a poem for her (and, when I say her, I don't mean my mother, but the girl I met that summer of '16). Sorrow and joy have already befallen me, and I know no one has experienced them as I have...
(Sigue el texto completo proporcionado por el usuario)
</pre>
  </section>

  
      <div class="mini-game">
      <h3 class="section-title">ğŸ® Juego: Click RÃ¡pido</h3>
      <p>Haz clic en el cÃ­rculo tantas veces como puedas (5 s).</p>
      <button id="btnGame">Iniciar juego</button>
      <p id="gameScore"></p>
      <canvas id="gameCanvas" width="200" height="200"></canvas>
    </div>
  </section>

  <!-- SCRIPTS UNIFICADOS -->
  <script>
  /* ===== Cambio de fondo ===== */
  const fondos=[getComputedStyle(document.documentElement).getPropertyValue('--bg1'),
                getComputedStyle(document.documentElement).getPropertyValue('--bg2'),
                getComputedStyle(document.documentElement).getPropertyValue('--bg3')];
  let fondoIdx=parseInt(localStorage.getItem('bgIndex')||0);
  document.body.style.backgroundImage=fondos[fondoIdx];
  document.getElementById('btnBg').onclick=()=>{fondoIdx=(fondoIdx+1)%fondos.length;
    document.body.style.backgroundImage=fondos[fondoIdx];
    localStorage.setItem('bgIndex',fondoIdx);
  };

  /* ===== Simulador de fases ===== */
  document.getElementById('btnSim').onclick=function(){
    const estado=document.getElementById('estado').value;
    const t=+document.getElementById('temp').value;
    let nuevo=estado;
    if(estado==='sÃ³lido'){ if(t>=0&&t<100)nuevo='lÃ­quido'; else if(t>=100)nuevo='gas'; }
    else if(estado==='lÃ­quido'){ if(t<0)nuevo='sÃ³lido'; else if(t>=100)nuevo='gas'; }
    else if(estado==='gas'){ if(t<100&&t>=0)nuevo='lÃ­quido'; else if(t<0)nuevo='sÃ³lido'; }
    document.getElementById('resultado').textContent=`Nuevo estado: ${nuevo}`;
  };

  /* ===== Mini-juego click rÃ¡pido ===== */
  const canvas=document.getElementById('gameCanvas'),ctx=canvas.getContext('2d');
  let clicks=0,timerId;
  function drawCircle(){ctx.fillStyle='#39FF14';ctx.beginPath();ctx.arc(100,100,30,0,Math.PI*2);ctx.fill();}
  function count(e){const r=canvas.getBoundingClientRect(),dx=e.clientX-r.left-100,dy=e.clientY-r.top-100;
    if(Math.hypot(dx,dy)<=30){clicks++;drawCircle();}
  }
  document.getElementById('btnGame').onclick=()=>{
    clicks=0;document.getElementById('gameScore').textContent='Â¡A jugar!';
    ctx.clearRect(0,0,200,200);drawCircle();
    canvas.addEventListener('click',count);
    clearTimeout(timerId);
    timerId=setTimeout(()=>{canvas.removeEventListener('click',count);
      ctx.clearRect(0,0,200,200);
      document.getElementById('gameScore').textContent=`Puntaje final: ${clicks}`;
    },5000);
  };

  feather.replace(); // icons
  </script>

<!-- Selector de idioma -->
<nav class="lang-switcher">
  <button data-lang="es" class="active">ES</button>
  <button data-lang="en">EN</button>
  <button data-lang="it">IT</button>
</nav>

<!-- Tarjeta de Poema -->
<section class="poem-card">
  <h2 class="poem-title" id="poem-title"></h2>
  <p  class="poem-text"  id="poem-text"></p>
  <button class="next-btn" id="next-btn">Next</button>
</section>

<div class="app-container">

  <!-- Cabecera principal -->
  <header class="app-header">
    <h1 class="app-title">QuotesÂ AudioÂ App</h1>
    <span class="quote-counter"><span id="currentQuote">1</span>/<span id="totalQuotes">3</span></span>
  </header>
<style>
:root{
  --bg-dark:#0d0d0d;
  --txt-light:#f5f5f5;
  --accent:#6366f1;
}

*{box-sizing:border-box;margin:0;padding:0}
body{
  font-family:'Inter',sans-serif;
  background:var(--bg-dark) center/cover fixed;
  color:var(--txt-light);
  min-height:100vh;
  display:flex;
  align-items:center;
  justify-content:center;
  padding:1rem;
  transition:background-image 1s ease-in-out;
}

/* ---------- UI ---------- */
.lang-switcher{
  position:fixed;top:1rem;right:1rem;
  background:rgba(0,0,0,.55);
  padding:0.4rem 0.7rem;
  border-radius:999px;
  display:flex;gap:0.4rem;
  z-index:10;
}
.lang-switcher button{
  border:none;background:transparent;
  color:var(--txt-light);font-weight:600;
  padding:0.35rem 0.9rem;border-radius:999px;
  cursor:pointer;transition:.25s;
}
.lang-switcher button:hover,
.lang-switcher button.active{
  background:var(--txt-light);color:#000;
}

.poem-card{
  max-width:600px;text-align:center;
  background:rgba(0,0,0,.6);
  padding:2.2rem 2rem;border-radius:1rem;
  backdrop-filter:blur(8px);
  box-shadow:0 0 24px rgba(255,255,255,.1);
  transition:transform .4s ease;
}
.poem-card:hover{transform:scale(1.02)}

.poem-title{font-size:1.9rem;font-weight:700;margin-bottom:1rem}
.poem-text{font-size:1.2rem;font-style:italic;line-height:1.55;margin-bottom:2rem}

.next-btn{
  background:var(--accent);color:#fff;
  border:none;border-radius:999px;
  padding:0.75rem 2.4rem;cursor:pointer;
  font-size:1rem;font-weight:600;
  transition:.3s;
}
.next-btn:hover{background:#4f46e5;transform:translateY(-2px)}
.next-btn:active{transform:translateY(0)}
</style>
</head>


<pre class="literary-content">Esa tÃ©cnica de escribir 1 cuento,
luego 1 novela
y posteriormente 1 comedia,
era una tradiciÃ³n en toda su familia
(...)

Dicen las fuentes confiables
(recopiladas de los textos de Edmundo en el Nuevo Mundo)
que las pesadillas de Wagner no habÃ­an sido mÃ¡s que un encanto
del no demiurgo y los males de la muerte
y la comedia que no escribiÃ³ [...]


Supplizio:
El hombre manifestÃ³
        que su esposa 
                               habÃ­a sido 
                            la mujer mÃ¡s pura 
                             de la narraciÃ³n

        SegÃºn los Honestos, 
        aquella mujer conocÃ­a 
        los caminos desconocidos, 
        los colores de las botellas, 
        los sabores de un "Beso Prohibido" 
                                     
                        (que probablemente sea una pelÃ­cula en blanco y negro)
                   O simplemente la variante de un discurso mal pronunciado





El enigma de los justos 
fue negado por el soÃ±ador del Cielo
y, despuÃ©s de seis noches, 
no hubo registro de fantasÃ­as
los suplicios de tu madre y los gritos de los astros 
no han llegado a envejecer como un vino 
ni en el Infierno ni en nuestros recuerdos.


<body class="bg-misty">


  <nav class="lang-switcher">
  <button data-lang="es" class="active">ES</button>
  <button data-lang="en">EN</button>
  <button data-lang="it">IT</button>
</nav>


<!-- Selector de idioma -->
<div class="lang-switcher">
  <button data-lang="es" class="active">ES</button>
  <button data-lang="en">EN</button>
  <button data-lang="it">IT</button>
</div>

<!-- Tarjeta del poema -->
<div class="poem-card">
  <div class="poem-title" id="poem-title"></div>
  <div class="poem-text"  id="poem-text"></div>
  <button class="next-btn" id="next-btn">Next</button>
</div>

<script>
// ----- DATA -----
const poems = [
  { id:1, bg:'',
    title:{es:'Diez muchachas', en:'Ten girls', it:'Dieci ragazze'},
    text:{es:'En Viena hay diez muchachas, un hombro donde solloza la muerte...',
          en:'In Vienna there are ten girls, a shoulder where death sobs...',
          it:'A Vienna ci sono dieci ragazze, una spalla dove singhiozza la morte...'}},
  { id:2, bg:'',
    title:{es:'Boca cerrada', en:'Mouth closed', it:'Bocca chiusa'},
    text:{es:'Toma este vals con la boca cerrada.',
          en:'Take this waltz with your mouth closed.',
          it:'Prendi questo valzer con la bocca chiusa.'}},
  { id:3, bg:'',
    title:{es:'Ãtico', en:'Attic', it:'Soffitta'},
    text:{es:'Verso del Ã¡ticoâ€¦', en:'Attic verseâ€¦', it:'Verso della soffittaâ€¦'}},
  { id:4, bg:',
    title:{es:'Tren', en:'Train', it:'Treno'},
    text:{es:'Verso del trenâ€¦', en:'Train verseâ€¦', it:'Verso del trenoâ€¦'}},
];

let lang='es';
let idx=0;

// ----- ELEMENTOS -----
const titleEl=document.getElementById('poem-title');
const textEl =document.getElementById('poem-text');
const nextBtn=document.getElementById('next-btn');
const langBtns=document.querySelectorAll('.lang-switcher button');

// ----- FUNCIONES -----
function render(){
  const {title,text,bg}=poems[idx];
  titleEl.textContent=title[lang];
  textEl.textContent =text[lang];
  document.body.style.backgroundImage=`url('${bg}')`;
}
function nextVerse(){
  idx = (idx+1) % poems.length;
  render();
}
function switchLang(e){
  lang=e.target.dataset.lang;
  langBtns.forEach(b=>b.classList.toggle('active',b.dataset.lang===lang));
  render();
}

// ----- LISTENERS -----
nextBtn.addEventListener('click',nextVerse);
langBtns.forEach(b=>b.addEventListener('click',switchLang));

// ----- INIT -----
render();
</script>
  <!-- QUOTE + PROGRESO -->
  <main class="main-content">
    <div class="quote-container">
      <h2 id="quoteTitle" class="quote-title">TÃ­tulo de la cita</h2>
      <div class="reading-progress">
        <progress id="progressBar" value="0" max="100"></progress>
      </div>
      <div id="quoteDisplay" class="quote-display">AquÃ­ aparecerÃ¡ el texto sincronizadoâ€¦</div>
    </div>

    <!-- CONTROLES AUDIO -->
    <div class="controls-panel">
      <div class="audio-controls">
        <button id="prevBtn"  class="control-btn secondary" aria-label="Anterior"><i data-feather="skip-back"></i></button>
        <button id="playPauseBtn" class="control-btn primary"   aria-label="Play/Pause"><i data-feather="play"></i></button>
        <button id="stopBtn"      class="control-btn secondary" aria-label="Stop"><i data-feather="square"></i></button>
        <button id="nextBtn"      class="control-btn secondary" aria-label="Siguiente"><i data-feather="skip-forward"></i></button>
      </div>
    </div>

    <!-- AJUSTES -->
    <div class="settings-panel">
      <div class="setting-group">
        <label class="setting-label" for="audioFile">Audio local</label>
        <input type="file" id="audioFile" accept="audio/*" class="file-input" />
      </div>
      <div class="setting-group">
        <label class="setting-label" for="highlightColor">Color</label>
        <input type="color" id="highlightColor" value="#6366f1" class="color-picker" />
      </div>
      <div class="setting-group">
        <label class="setting-label" for="speechRate">Velocidad</label>
        <div class="slider-wrapper">
          <input type="range" id="speechRate" min="0.6" max="2" step="0.1" value="1" class="speed-slider" />
          <span id="speedValue">1.0Ã—</span>
        </div>
      </div>
    </div>

    <!-- RANKING & GAMIFICACIÃ“N -->
    <section class="ranking-section">
      <h2 class="section-title">ğŸ†Â TopÂ EstudiantesÂ â€“Â Semana</h2>
      <div class="ranking">
        <!-- Estudiante 1 -->
        <div class="student">
          <img src="https://em-content.zobj.net/thumbs/120/google/350/1st-place-medal_1f947.png" alt="Oro" class="medal" />
          <div class="info">
            <h3>ğŸ¥‡Â ValeriaÂ RÃ­os</h3>
            <p>ğŸ¯Â 980â€¯pts Â· ğŸ”¥Â Maestra del Razonamiento</p>
          </div>
        </div>
        <!-- Estudiante 2 -->
        <div class="student">
          <img src="https://em-content.zobj.net/thumbs/120/google/350/2nd-place-medal_1f948.png" alt="Plata" class="medal" />
          <div class="info">
            <h3>ğŸ¥ˆÂ AndrÃ©sÂ LeÃ³n</h3>
            <p>ğŸ¯Â 910â€¯pts Â· ğŸ“˜Â AnalistaÂ Avanzado</p>
          </div>
        </div>
        <!-- Estudiante 3 -->
        <div class="student">
          <img src="https://em-content.zobj.net/thumbs/120/google/350/3rd-place-medal_1f949.png" alt="Bronce" class="medal" />
          <div class="info">
            <h3>ğŸ¥‰Â FiorellaÂ MartÃ­nez</h3>
            <p>ğŸ¯Â 880â€¯pts Â· ğŸÂ Sticker digital</p>
          </div>
        </div>
      </div>

      <!-- Simulador de cambios de estado -->
      <div class="phase-sim">
        <h3 class="section-title">âš›ï¸Â Simulador de Cambios de Estado</h3>
        <label for="estado">Estado actual:</label>
        <select id="estado">
          <option value="sÃ³lido">SÃ³lido</option>
          <option value="lÃ­quido">LÃ­quido</option>
          <option value="gas">Gas</option>
        </select>
        <label for="temperatura">TemperaturaÂ (Â°C):</label>
        <input type="number" id="temperatura" value="25" />
        <button onclick="simularCambio()">Simular</button>
        <p id="resultado"></p>
      </div>

      <!-- Miniâ€‘juego -->
      <div class="mini-game">
        <h3 class="section-title">ğŸ®Â Juego: ClickÂ RÃ¡pido</h3>
        <p>Haz clic lo mÃ¡s rÃ¡pido posible en 5â€¯segundos.</p>
        <button onclick="startGame()">Iniciar juego</button>
        <p id="gameScore"></p>
        <canvas id="gameCanvas" width="200" height="200"></canvas>
      </div>
    </section>
  </main>
</div>

<audio id="audioPlayer" hidden></audio>
<div id="errorMessage" class="error-message" role="alert" aria-live="polite"></div>

<!-- ==========  SCRIPTS  ========== -->
<script>
/* ----------  POEMA + FONDOS  ---------- */
const poems=[
  {bg:'https://images.unsplash.com/photo-1506459225024-1428097a7e18?auto=format&fit=crop&w=1600&q=80',
   title:{es:'Diez muchachas',en:'TenÂ girls',it:'DieciÂ ragazze'},
   text:{es:'En Viena hay diez muchachas, un hombro donde solloza la muerteâ€¦',
         en:'In Vienna there are ten girls, a shoulder where death sobsâ€¦',
         it:'A Vienna ci sono dieci ragazze, una spalla dove singhiozza la morteâ€¦'}},
  {bg:'https://images.unsplash.com/photo-1602524819641-3c89723a87bd?auto=format&fit=crop&w=1600&q=80',
   title:{es:'Boca cerrada',en:'Mouth closed',it:'Bocca chiusa'},
   text:{es:'Toma este vals con la boca cerrada.',
         en:'Take this waltz with your mouth closed.',
         it:'Prendi questo valzer con la bocca chiusa.'}},
  {bg:'https://images.unsplash.com/photo-1554106273-9e9d22b1a1fc?auto=format&fit=crop&w=1600&q=80',
   title:{es:'Ãtico',en:'Attic',it:'Soffitta'},
   text:{es:'Verso del Ã¡ticoâ€¦',en:'Attic verseâ€¦',it:'Verso della soffittaâ€¦'}},
  {bg:'https://images.unsplash.com/photo-1519608487953-e999c86e7455?auto=format&fit=crop&w=1600&q=80',
   title:{es:'Tren',en:'Train',it:'Treno'},
   text:{es:'Verso del trenâ€¦',en:'Train verseâ€¦',it:'Verso del trenoâ€¦'}}
];
let idx=0,lang='es';
const titleEl=document.getElementById('poem-title');
const textEl =document.getElementById('poem-text');
const nextBtn=document.getElementById('next-btn');
const langBtns=document.querySelectorAll('.lang-switcher button');
function renderPoem(){
  const {title,text,bg}=poems[idx];
  titleEl.textContent=title[lang];
  textEl.textContent =text[lang];
  document.body.style.backgroundImage=`url('${bg}')`;
}
nextBtn.addEventListener('click',()=>{idx=(idx+1)%poems.length;renderPoem()});
langBtns.forEach(b=>b.addEventListener('click',e=>{
  lang=e.target.dataset.lang;
  langBtns.forEach(btn=>btn.classList.toggle('active',btn===e.target));
  renderPoem();
}));
renderPoem();

/* ----------  SIMULADOR FASES  ---------- */
function simularCambio(){
  const estado=document.getElementById('estado').value;
  const temp=parseFloat(document.getElementById('temperatura').value);
  let nuevo=estado;
  if(estado==='sÃ³lido'){ if(temp>=0&&temp<100)nuevo='lÃ­quido'; else if(temp>=100)nuevo='gas'; }
  else if(estado==='lÃ­quido'){ if(temp<0)nuevo='sÃ³lido'; else if(temp>=100)nuevo='gas'; }
  else if(estado==='gas'){ if(temp<100&&temp>=0)nuevo='lÃ­quido'; else if(temp<0)nuevo='sÃ³lido'; }
  document.getElementById('resultado').textContent=`Nuevo estado: ${nuevo}`;
}

/* ----------  MINI GAME  ---------- */
let clickCount=0,timer;
const canvas=document.getElementById('gameCanvas');
const ctx=canvas.getContext('2d');
function drawCircle(){
  ctx.fillStyle='#39FF14';
  ctx.beginPath();ctx.arc(100,100,30,0,Math.PI*2);ctx.fill();
}
function countClick(e){
  const {left,top}=canvas.getBoundingClientRect();
  const dx=e.clientX-left-100,dy=e.clientY-top-100;
  if(Math.hypot(dx,dy)<=30){clickCount++;drawCircle();}
}
function startGame(){
  clickCount=0;
  document.getElementById('gameScore').textContent='Â¡Haz clic en el cÃ­rculo!';
  ctx.clearRect(0,0,200,200);
  drawCircle();
  canvas.addEventListener('click',countClick);
  clearTimeout(timer);
  timer=setTimeout(()=>{
    canvas.removeEventListener('click',countClick);
    ctx.clearRect(0,0,200,200);
    document.getElementById('gameScore').textContent=`Puntaje final: ${clickCount}`;
  },5000);
}

/* ----------  Feather Icons  ---------- */
feather.replace();
</script>
</body>
</html>
